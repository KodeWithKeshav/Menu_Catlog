<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="Author" content="Keshav S">
</head>
<body>
<select id="canteenSelect" style="margin: 1rem; padding: 0.5rem; font-size: 1rem;">
  <option value="IT">IT Canteen</option>
  <option value="MBA">MBA Canteen</option>
  <option value="Main">Main Canteen</option>
</select>

<div id="menuContainer" style="display: flex; flex-wrap: wrap; gap: 1rem; padding: 1rem;"></div>

<script>
async function fetchMenu(canteen) {
  const res = await fetch(`/menu/${canteen}`);
  const data = await res.json();
  const container = document.getElementById('menuContainer');
  container.innerHTML = '';

  if (data.length === 0) {
    container.innerHTML = `<p style="font-size: 1.2rem;">No items available for this canteen today.</p>`;
    return;
  }

  data.forEach(item => {
    const card = document.createElement('div');
    card.style = `
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 1rem;
      width: 220px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      border: 2px solid ${item.isSpecialToday ? '#ffd700' : '#e0e0e0'};
    `;

    card.innerHTML = `
      <h3 style="margin: 0 0 0.5rem;">${item.name}</h3>
      <p style="margin: 0 0 0.5rem; font-weight: bold;">â‚¹${item.price}</p>
      ${item.isSpecialToday ? '<span style="color: #d35400; font-weight: bold;">ðŸŒŸ Today\'s Special</span>' : ''}
    `;

    container.appendChild(card);
  });
}

document.getElementById('canteenSelect').addEventListener('change', (e) => {
  fetchMenu(e.target.value);
});

// Initial load
fetchMenu('IT');
</script>
</body>
</html>